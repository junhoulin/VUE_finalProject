"use strict";(self["webpackChunkfinal_vue"]=self["webpackChunkfinal_vue"]||[]).push([[909],{6771:function(a,t,s){s.d(t,{A:function(){return c}});var i=s(6768),n=s(3153);const e={class:"navbar0 navbar navbar-expand-lg navbar-light bg-light fixed-top"};function l(a,t,s,l,o,r){return(0,i.uX)(),(0,i.CE)("nav",e,t[0]||(t[0]=[(0,i.Fv)('<div class="container-fluid indexnavbar"><a href="#/userindex/shoppingcart" class="shop1"><span aria-hidden="true"><i class="fa-solid fa-cart-shopping fa-xl"></i></span><span class="visually-hidden">前往購物車</span></a><img class="navbarimg" src="'+n+'" alt="" href="#"><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse collapse0" id="navbarNav"><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" aria-current="page" href="#/userindex/userintrodution">主頁介紹</a></li><li class="nav-item"><a class="nav-link" href="#/userindex/userproduct">商品主頁</a></li><li class="nav-item"><a class="nav-link" href="#">聯絡我們</a></li><li class="nav-item"><a class="nav-link" href="#/userindex/adminlogin">後台登入</a></li></ul></div><a href="#/userindex/shoppingcart" class="shop2"><span aria-hidden="true"><i class="fa-solid fa-cart-shopping fa-xl"></i></span><span class="visually-hidden">前往購物車</span></a></div>',1)]))}var o={name:"DashBoard"},r=s(1241);const d=(0,r.A)(o,[["render",l]]);var c=d},7909:function(a,t,s){s.r(t),s.d(t,{default:function(){return _}});var i=s(6768),n=s(4232),e=s(5130),l=s(9722);const o={class:"cart-container"},r={class:"product-list"},d={class:"product-info"},c={class:"product-details"},u={class:"product-title"},p={class:"product-price"},h={class:"product-info2"},v={class:"input-group"},g=["onUpdate:modelValue","onChange","disabled"],b={class:"product-price"},k=["onClick"],f={class:"final-price"};function L(a,t,s,L,m,x){const C=(0,i.g2)("Navbar"),y=(0,i.g2)("LoadingApp");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(C),(0,i.bF)(y,{active:m.isLoading},{default:(0,i.k6)((()=>t[0]||(t[0]=[(0,i.Lk)("div",{class:"loadingio-spinner-double-ring-nq4q5u6dq7r"},[(0,i.Lk)("div",{class:"ldio-x2uulkbinbj"},[(0,i.Lk)("div"),(0,i.Lk)("div"),(0,i.Lk)("div",null,[(0,i.Lk)("div")]),(0,i.Lk)("div",null,[(0,i.Lk)("div")])])],-1)]))),_:1},8,["active"]),(0,i.Lk)("div",o,[t[5]||(t[5]=(0,i.Lk)("h1",{class:"cart-title"},[(0,i.Lk)("i",{class:"fa-solid fa-shop"}),(0,i.eW)("購物車")],-1)),(0,i.Lk)("ul",r,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(m.cartData,(a=>((0,i.uX)(),(0,i.CE)("li",{class:"product-item",key:a.id},[(0,i.Lk)("div",d,[t[1]||(t[1]=(0,i.Lk)("img",{src:l,alt:"Product Image",class:"product-image"},null,-1)),(0,i.Lk)("div",c,[(0,i.Lk)("div",u,(0,n.v_)(a.product.title),1),(0,i.Lk)("div",p,(0,n.v_)(a.product.price)+" 元",1)])]),(0,i.Lk)("div",h,[(0,i.Lk)("div",v,[(0,i.bo)((0,i.Lk)("input",{type:"number",class:"form-control",placeholder:"","aria-label":"number","aria-describedby":"basic-addon2",min:"1",max:"18",step:"1",value:"1","onUpdate:modelValue":t=>a.qty=t,onChange:t=>x.updateCart(a),disabled:a.id===m.status.loadingdItem},null,40,g),[[e.Jo,a.qty]]),t[2]||(t[2]=(0,i.Lk)("span",{class:"input-group-text",id:"basic-addon2"},"/ 人",-1))]),(0,i.Lk)("div",b,"共 : "+(0,n.v_)(a.total)+" 元",1)]),(0,i.Lk)("button",{class:"remove-button",onClick:t=>x.deleteCart(a)},t[3]||(t[3]=[(0,i.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,k)])))),128))]),(0,i.Lk)("div",f,[t[4]||(t[4]=(0,i.Lk)("label",{class:"coupon-label",for:"coupon-code"},[(0,i.eW)(" 優惠券 : "),(0,i.Lk)("input",{type:"text",id:"coupon-code",placeholder:"請輸入優惠卷",class:"coupon-input"})],-1)),(0,i.Lk)("h3",null,"總金額 : "+(0,n.v_)(m.cart.final_total),1)]),t[6]||(t[6]=(0,i.Lk)("button",{class:"checkout-button"},"結帳",-1))])],64)}var m=s(6771),x={name:"shoppingCart",components:{Navbar:m.A},data(){return{cart:{},cartData:{},isLoading:!1,status:{loadingdItem:""}}},methods:{getCart(){this.isLoading=!0;const a="https://vue3-course-api.hexschool.io/api/junhou-api/cart";this.$http.get(a).then((a=>{this.cart=a.data.data,this.cartData=a.data.data.carts,this.isLoading=!1,this.$httpMessageState(a,"購物車")}))},updateCart(a){const t=`https://vue3-course-api.hexschool.io/api/junhou-api/cart/${a.id}`,s={product_id:a.product.id,qty:a.qty};this.status.loadingdItem=a.id,this.$http.put(t,{data:s}).then((a=>{this.$httpMessageState(a,"數量"),this.getCart(),this.status.loadingdItem=""}))},deleteCart(a){const t=`https://vue3-course-api.hexschool.io/api/junhou-api/cart/${a.id}`;this.status.loadingdItem=a.id,this.$http.delete(t).then((a=>{this.$httpMessageState(a,"刪除"),this.getCart(),this.status.loadingdItem=""}))}},created(){this.getCart()}},C=s(1241);const y=(0,C.A)(x,[["render",L]]);var _=y},9722:function(a,t,s){a.exports=s.p+"img/indexbackground.bbddfb70.png"},3153:function(a,t,s){a.exports=s.p+"img/logo.28273e58.png"}}]);
//# sourceMappingURL=909.9187665b.js.map