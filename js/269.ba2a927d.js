"use strict";(self["webpackChunkfinal_vue"]=self["webpackChunkfinal_vue"]||[]).push([[269],{3308:function(a,t,s){s.d(t,{A:function(){return b}});var i=s(6768),e=s(3153);const l={class:"navbar0 navbar navbar-expand-lg navbar-light bg-light fixed-top"},n={class:"container-fluid indexnavbar"},o={class:"collapse navbar-collapse collapse0",id:"navbarNav"},c={class:"navbar-nav"},r={class:"nav-item"},d={class:"nav-item"},u={class:"nav-item"},p={class:"nav-item"};function v(a,t,s,v,g,h){return(0,i.uX)(),(0,i.CE)("nav",l,[(0,i.Lk)("div",n,[t[8]||(t[8]=(0,i.Fv)('<a href="#/userindex/shoppingcart" class="shop1"><span aria-hidden="true"><i class="fa-solid fa-cart-shopping fa-xl"></i></span><span class="visually-hidden">前往購物車</span></a><img class="navbarimg" src="'+e+'" alt="" href="#"><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>',3)),(0,i.Lk)("div",o,[(0,i.Lk)("ul",c,[(0,i.Lk)("li",r,[(0,i.Lk)("a",{class:"nav-link","aria-current":"page",href:"#/userindex/userintrodution",onClick:t[0]||(t[0]=(...a)=>h.toggleNavbar&&h.toggleNavbar(...a))},t[4]||(t[4]=[(0,i.Lk)("i",{class:"fa-solid fa-house"},null,-1),(0,i.eW)("主頁介紹")]))]),(0,i.Lk)("li",d,[(0,i.Lk)("a",{class:"nav-link",href:"#/userindex/userproduct",onClick:t[1]||(t[1]=(...a)=>h.toggleNavbar&&h.toggleNavbar(...a))},t[5]||(t[5]=[(0,i.Lk)("i",{class:"fa-solid fa-volleyball"},null,-1),(0,i.eW)("商品主頁")]))]),(0,i.Lk)("li",u,[(0,i.Lk)("a",{class:"nav-link",href:"#/userindex/usercontactMe",onClick:t[2]||(t[2]=(...a)=>h.toggleNavbar&&h.toggleNavbar(...a))},t[6]||(t[6]=[(0,i.Lk)("i",{class:"fa-solid fa-comment"},null,-1),(0,i.eW)("聯絡我們")]))]),(0,i.Lk)("li",p,[(0,i.Lk)("a",{class:"nav-link",href:"#/userindex/adminlogin",onClick:t[3]||(t[3]=(...a)=>h.toggleNavbar&&h.toggleNavbar(...a))},t[7]||(t[7]=[(0,i.Lk)("i",{class:"fa-solid fa-user"},null,-1),(0,i.eW)("後台登入")]))])])]),t[9]||(t[9]=(0,i.Lk)("a",{href:"#/userindex/shoppingcart",class:"shop2"},[(0,i.Lk)("span",{"aria-hidden":"true"},[(0,i.Lk)("i",{class:"fa-solid fa-cart-shopping fa-xl"})]),(0,i.Lk)("span",{class:"visually-hidden"},"前往購物車")],-1))])])}var g={name:"DashBoard",methods:{toggleNavbar(){const a=document.getElementById("navbarNav");a.classList.contains("show")&&a.classList.remove("show")}}},h=s(1241);const k=(0,h.A)(g,[["render",v]]);var b=k},269:function(a,t,s){s.r(t),s.d(t,{default:function(){return y}});var i=s(6768),e=s(4232),l=s(5130),n=s(9722);const o={class:"cart-container"},c={class:"product-list"},r={class:"product-info"},d={class:"product-details"},u={class:"product-title"},p={class:"product-price"},v={class:"product-info2"},g={class:"input-group"},h=["onUpdate:modelValue","onChange","disabled"],k={class:"product-price"},b=["onClick"],L={class:"final-price"};function f(a,t,s,f,m,C){const x=(0,i.g2)("Navbar"),N=(0,i.g2)("LoadingApp");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(x),(0,i.bF)(N,{active:m.isLoading},{default:(0,i.k6)((()=>t[0]||(t[0]=[(0,i.Lk)("div",{class:"loadingio-spinner-double-ring-nq4q5u6dq7r"},[(0,i.Lk)("div",{class:"ldio-x2uulkbinbj"},[(0,i.Lk)("div"),(0,i.Lk)("div"),(0,i.Lk)("div",null,[(0,i.Lk)("div")]),(0,i.Lk)("div",null,[(0,i.Lk)("div")])])],-1)]))),_:1},8,["active"]),(0,i.Lk)("div",o,[t[5]||(t[5]=(0,i.Lk)("h1",{class:"cart-title"},[(0,i.Lk)("i",{class:"fa-solid fa-shop"}),(0,i.eW)("購物車")],-1)),(0,i.Lk)("ul",c,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(m.cartData,(a=>((0,i.uX)(),(0,i.CE)("li",{class:"product-item",key:a.id},[(0,i.Lk)("div",r,[t[1]||(t[1]=(0,i.Lk)("img",{src:n,alt:"Product Image",class:"product-image"},null,-1)),(0,i.Lk)("div",d,[(0,i.Lk)("div",u,(0,e.v_)(a.product.title),1),(0,i.Lk)("div",p,(0,e.v_)(a.product.price)+" 元",1)])]),(0,i.Lk)("div",v,[(0,i.Lk)("div",g,[(0,i.bo)((0,i.Lk)("input",{type:"number",class:"form-control",placeholder:"","aria-label":"number","aria-describedby":"basic-addon2",min:"1",max:"18",step:"1",value:"1","onUpdate:modelValue":t=>a.qty=t,onChange:t=>C.updateCart(a),disabled:a.id===m.status.loadingdItem},null,40,h),[[l.Jo,a.qty]]),t[2]||(t[2]=(0,i.Lk)("span",{class:"input-group-text",id:"basic-addon2"},"/ 人",-1))]),(0,i.Lk)("div",k,"共 : "+(0,e.v_)(a.total)+" 元",1)]),(0,i.Lk)("button",{class:"remove-button",onClick:t=>C.deleteCart(a)},t[3]||(t[3]=[(0,i.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,b)])))),128))]),(0,i.Lk)("div",L,[t[4]||(t[4]=(0,i.Lk)("label",{class:"coupon-label",for:"coupon-code"},[(0,i.eW)(" 優惠券 : "),(0,i.Lk)("input",{type:"text",id:"coupon-code",placeholder:"請輸入優惠卷",class:"coupon-input"})],-1)),(0,i.Lk)("h3",null,"總金額 : "+(0,e.v_)(m.cart.final_total),1)]),t[6]||(t[6]=(0,i.Lk)("button",{class:"checkout-button"},"結帳",-1))])],64)}var m=s(3308),C={name:"shoppingCart",components:{Navbar:m.A},data(){return{cart:{},cartData:{},isLoading:!1,status:{loadingdItem:""}}},methods:{getCart(){this.isLoading=!0;const a="https://vue3-course-api.hexschool.io/api/junhou-api/cart";this.$http.get(a).then((a=>{this.cart=a.data.data,this.cartData=a.data.data.carts,this.isLoading=!1,this.$httpMessageState(a,"購物車")}))},updateCart(a){const t=`https://vue3-course-api.hexschool.io/api/junhou-api/cart/${a.id}`,s={product_id:a.product.id,qty:a.qty};this.status.loadingdItem=a.id,this.$http.put(t,{data:s}).then((a=>{this.$httpMessageState(a,"數量"),this.getCart(),this.status.loadingdItem=""}))},deleteCart(a){const t=`https://vue3-course-api.hexschool.io/api/junhou-api/cart/${a.id}`;this.status.loadingdItem=a.id,this.$http.delete(t).then((a=>{this.$httpMessageState(a,"刪除"),this.getCart(),this.status.loadingdItem=""}))}},created(){this.getCart()}},x=s(1241);const N=(0,x.A)(C,[["render",f],["__scopeId","data-v-722055f0"]]);var y=N},9722:function(a,t,s){a.exports=s.p+"img/indexbackground.bbddfb70.png"},3153:function(a,t,s){a.exports=s.p+"img/logo.28273e58.png"}}]);
//# sourceMappingURL=269.ba2a927d.js.map